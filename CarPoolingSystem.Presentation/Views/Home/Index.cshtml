@model CarPoolingSystem.Presentation.Models.RideSearchViewModel
@{
    ViewData["Title"] = "Home Page";
}
<title>
    <link href="~/css/stylesheet.css" rel="stylesheet" />
</title>

<div class="container-fluid p-0">
    <section class="top-section" id="Top">
        <div class="container text-center">
            <h1 class="display-3">Welcome to Carpooling</h1>
            <p class="lead">Join us for affordable, safe, and eco-friendly ridesharing solutions.</p>
        </div>
    </section>
    <section id="why" class="container text-center">
        <h2>Why Choose Us?</h2>
        <div class="row mt-2">
            <div class="col-md-4">
                <div class="card feature-card shadow-lg">
                    <i class="fas fa-dollar-sign fa-3x text-primary"></i>
                    <h4 class="mt-3">Save Money</h4>
                    <p>Enjoy budget-friendly rides with no hidden costs.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card feature-card shadow-lg">
                    <i class="fas fa-user-check fa-3x text-success"></i>
                    <h4 class="mt-3">Trusted Drivers</h4>
                    <p>Our drivers are verified for your safety and comfort.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card feature-card shadow-lg">
                    <i class="fas fa-globe fa-3x text-warning"></i>
                    <h4 class="mt-3">Eco-Friendly</h4>
                    <p>Reduce carbon emissions by sharing rides.</p>
                </div>
            </div>
        </div>
    </section>
    <section id="testimonials" class="container mt-4 text-center">
        <h2>What Our Riders Say</h2>
        <div id="testimonialCarousel" class="carousel slide mt-4" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <blockquote class="blockquote">
                        <p>"Great experience! Affordable and reliable."</p>
                        <footer class="blockquote-footer">Ahmed Ali.</footer>
                    </blockquote>
                </div>
                <div class="carousel-item">
                    <blockquote class="blockquote">
                        <p>"Finding rides has never been easier. Love it!"</p>
                        <footer class="blockquote-footer">Mona Waly.</footer>
                    </blockquote>
                </div>
            </div>
        </div>
    </section>
    <div class="" >
        <section id="search" class="container  mt-5">
            <h2 class="text-center">Find Your Ride</h2>
            <form method="post" action="@Url.Action("Index", "Home")">
                <div class="row g-3">
                    <div class="col-md-3">
                        <input type="text" class="form-control input-effect" placeholder="From" name="Origin" value="@Model.Origin">
                    </div>
                    <div class="col-md-3">
                        <input type="text" class="form-control input-effect" placeholder="To" name="Destination" value="@Model.Destination">
                    </div>
                    <div class="col-md-3">
                        <input type="datetime-local" class="form-control input-effect" name="DateTime" value="@Model.DateTime.ToString("yyyy-MM-dd HH:mm")">
                    </div>
                    <div class="col-md-3">
                        <button type="submit" class="btn btn-primary w-100 shadow">Search</button>
                    </div>
                </div>
            </form>
        </section>

        <div class="row mt-4">
            @if (Model.Rides != null && Model.Rides.Any())
            {
                @foreach (var ride in Model.Rides)
                {
                    <div class="col-md-4 col-sm-6 mb-4">
                        <div class="card ride-card shadow-lg">
                            <div class="card-body">
                                <h5 class="card-title text-primary">@ride.Origin → @ride.Destination</h5>
                                <p class="card-text">
                                    <strong>Seats Available:</strong> @ride.SeatsAvailable
                                    <br>
                                    <strong>Departure:</strong> @ride.DateTime.ToString("yyyy-MM-dd HH:mm")
                                </p>
                                
                                <button type="button" class="btn btn-success w-100 bookRideBtn"
                                        data-bs-toggle="modal"
                                        data-bs-target="#bookRideModal"
                                        data-id="@ride.Id"
                                        data-origin="@ride.Origin"
                                        data-destination="@ride.Destination"
                                        data-datetime="@ride.DateTime"
                                        data-seats="@ride.SeatsAvailable">
                                    Book Now
                                </button>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <h3 class="text-center">No rides found.</h3>
            }
        </div>
    </div>
</div>

<div class="modal fade" id="bookRideModal" tabindex="-1" aria-labelledby="bookRideModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="bookRideModalLabel">Book Your Ride</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form method="post" action="@Url.Action("Create", "Booking")">
                    @Html.AntiForgeryToken()

                    <input type="hidden" id="rideId" name="RideId" />

                    <div class="mb-3">
                        <label class="form-label">From:</label>
                        <input type="text" class="form-control" id="rideOrigin" readonly>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">To:</label>
                        <input type="text" class="form-control" id="rideDestination" readonly>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Departure Time:</label>
                        <input type="text" class="form-control" id="rideDateTime" readonly>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Available Seats:</label>
                        <input type="number" class="form-control" id="rideSeats" readonly>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Select Seats:</label>
                        <input type="number" class="form-control" name="SeatsBooked" required min="1">
                    </div>

                    <button type="submit" class="btn btn-primary w-100">Confirm Booking</button>
                </form>
            </div>
        </div>




       


   </div>

</div>

<section id="contact" class="container mt-5">
    <h2 class="text-center">Contact Us</h2>
    <form method="post" action="@Url.Action("SendMessage", "Contact")" class="mt-4 p-4 bg-light rounded shadow-lg">
        <div class="row g-3">
            <div class="col-md-6">
                <input type="text" class="form-control input-effect" placeholder="Your Name" name="Name" required>
            </div>
            <div class="col-md-6">
                <input type="email" class="form-control input-effect" placeholder="Your Email" name="Email" required>
            </div>
            <div class="col-md-12">
                <textarea class="form-control input-effect" rows="5" placeholder="Your Message" name="Message" required></textarea>
            </div>
            <div class="col-md-12">
                <button type="submit" class="btn btn-primary w-100 shadow">Send Message</button>
            </div>
        </div>
    </form>
</section>
@section Scripts {
    <script src="~/js/home.js"></script>
}





